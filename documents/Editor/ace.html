<!DOCTYPE html>
<html lang="en">
<head>
<title>ACE in Action</title>
<style type="text/css" media="screen">
    #editor { 
        position: absolute;
        top: 6%;
        right: 0;
        bottom: 0;
        left: 0;
    }
</style>
</head>
<body>
<select id="languages" onchange="chagLang()">
  <option value="text">Choose Language</option>
  <option value="java">Java</option>
  <option value="c_cpp">C</option>
  <option value="c_cpp">C++</option>
  <option value="csharp">C#</option>
</select>
<div id="editor">//Your code goes here..
</div>

<script src="src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="src-noconflict/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
<script src="funcSignatures.js" type="text/javascript" charset="utf-8"></script>
<script>
    var temp;
    var lang;
    var langTools = ace.require("ace/ext/language_tools");
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    //editor.getSession().setMode("ace/mode/c_cpp");
    chagLang = function ()
    {
      temp = document.getElementById("languages");
      lang = temp.options[temp.selectedIndex].value;
      console.log(lang);
      var langpath = "ace/mode/";
      editor.getSession().setMode(langpath.concat(lang));
    }
    var functionExtractor = {
        getCompletions: function(editor, session, pos, prefix, callback) {
            callback(null, functions.map(function(fn){
              if(fn.method_name.indexOf(prefix)>-1)
              {
                console.log(fn.method_name);//Working correctly, just printing those names which contain the characters typed in
                // Error while returning it from here..
              }
              return {name: fn.method_name, value: fn.method_name, score:0, meta: "functions"}  

          }));
        }
    }
    langTools.addCompleter(functionExtractor);
    editor.setOptions
      ({
	     enableBasicAutocompletion: true,
	     enableLiveAutocompletion: true
      });
</script>
</body>
</html>